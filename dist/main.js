!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageToken="",this.items=[],this.size=null,this.restOfClips=null,this.width=null,this.leftScroll=0,this.itemWidth=250,this.itemMarginRight=30,document.body.onresize=function(){t.setSize(document.body.offsetWidth),t.setRestOfClips()}}var t,n,o;return t=e,(n=[{key:"createInterface",value:function(e){r.innerHTML="",this.createItemsBoxDom(),this.createItemsWrapperDom(),this.addItems(e),this.setSize(document.body.offsetWidth),this.setRestOfClips()}},{key:"createItemsBoxDom",value:function(){this.itemsBoxDom=document.createElement("div"),this.itemsBoxDom.id="itemsBoxDom",r.appendChild(this.itemsBoxDom)}},{key:"createItemsWrapperDom",value:function(){this.itemsWrapperDom=document.createElement("div"),this.itemsWrapperDom.id="itemsWrapperDom",this.itemsBoxDom.appendChild(this.itemsWrapperDom)}},{key:"addItems",value:function(e){var t=this;e.forEach(function(e){t.items.push(e);var n=document.createElement("div");n.classList.add("itemDom"),t.itemsWrapperDom.appendChild(n);var i=document.createElement("h2");i.innerHTML=e.title,n.appendChild(i);var o=document.createElement("img");o.src=e.imageUrl,n.appendChild(o);var s=document.createElement("p");s.innerHTML=e.description.slice(0,200),n.appendChild(s);var r=document.createElement("p");r.innerHTML=t.nextPageToken,n.appendChild(r);var a=document.createElement("a");a.innerHTML="Перейти",a.href="https://youtube.com/watch?v=".concat(e.id),a.target="_blank",n.appendChild(a)})}},{key:"setSize",value:function(e){this.size=Math.min(4,Math.floor(e/(this.itemWidth+this.itemMarginRight))),this.width=this.size*(this.itemWidth+this.itemMarginRight)-this.itemMarginRight,this.itemsBoxDom.style.width="".concat(this.width,"px")}},{key:"setRestOfClips",value:function(){this.restOfClips=this.items.length-this.size+this.leftScroll,this.restOfClips<this.size&&u(this.pageToken,this)}},{key:"setMouseSwipe",value:function(){var e=this,t=this.itemsWrapperDom,n=0;t.ondragstart=function(){return!1},t.onmousedown=function(i){var o=e.leftScroll,s=i.pageX;t.onmousemove=function(i){n=i.pageX-s;var r=function(){n=e.size*Math.sign(n)*(Math.abs(n)>20?1:0),e.leftScroll=Math.min(0,o+n),new Promise(function(t,n){e.setRestOfClips(),t()}).then(function(){t.style.left="".concat(e.leftScroll*(e.itemWidth+e.itemMarginRight),"px")}),t.onmousemove=null,t.onmouseleave=null,window.onmouseup=null};t.onmouseleave=r,window.onmouseup=r},t.onmouseup=function(){t.onmousemove=null}}}},{key:"setMobileSwipe",value:function(){var e=this,t=this.itemsWrapperDom,n=document.createElement("p");document.body.appendChild(n),t.ontouchstart=function(n){var i=e.leftScroll,o=n.touches[0].pageX;t.ontouchmove=function(t){var n=t.touches[0].pageX-o;n=Math.abs(n)>10?e.size*Math.sign(n):0,e.leftScroll=Math.min(0,i+n),e.setRestOfClips()}}}}])&&i(t.prototype,n),o&&i(t,o),e}(),s=document.getElementById("search"),r=(document.getElementById("request"),document.getElementById("container")),a=document.createElement("script");function u(e,t){(function(e){var t=gapi.client.youtube.search.list({part:"snippet",type:"video",pageToken:e,q:requestField.value,maxResults:8});return new Promise(function(e,n){t.execute(function(t){e(t)})})})(e).then(function(e){t.pageToken=e.nextPageToken,function(e){var t=e.items.map(function(e){return{title:e.snippet.title,description:e.snippet.description,channelId:e.snippet.channelId,channelTitle:e.channelTitle,id:e.id.videoId,imageUrl:e.snippet.thumbnails.medium.url}}),n=t.reduce(function(e,t,n){return e+=(0===n?"":",")+t.id},""),i=gapi.client.youtube.videos.list({id:n,part:"snippet,statistics"});return new Promise(function(e,n){i.execute(function(n){var i=n.items;t.forEach(function(e,t){e.viewCount=i[t].statistics.viewCount}),e(t)})})}(e).then(function(e){t.items.length>0&&t.addItems(e),0===t.items.length&&t.createInterface(e)})})}a.src="https://apis.google.com/js/client.js",document.body.appendChild(a),a.onload=function(){gapi.client.setApiKey("AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y"),gapi.client.load("youtube","v3")},s.onclick=function(e){u("",new o)}}]);